<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>D-CASE VIEWER</title>
<link rel="stylesheet" type="text/css" href="css/dcase-node.css"/>
<link rel="stylesheet" type="text/css" href="css/viewer.css"/>
<link rel="stylesheet" type="text/css" href="css/sidemenu.css"/>
<style>
body {
	min-height: 480px;
	margin: 0px;
}
#viewer {
	left: 0px;
	top : 0px;
	width : 100%;
	height: 100%;
}
</style>
<script type="text/javascript" src="lib/jquery.min.js"></script>
<script type="text/javascript" src="lib/jquery.mousewheel.min.js"></script>
<script type="text/javascript" src="js/dcaseviewer.js" charset="utf-8"></script>
<script type="text/javascript" src="js/dnode.js"></script>
<script type="text/javascript" src="js/dnodeview.js"></script>
<script type="text/javascript" src="js/handler.js"></script>
<script type="text/javascript" src="js/edit.js"></script>
<script type="text/javascript" src="js/sidemenu.js"></script>
<script type="text/javascript">
window.addEventListener("load",function() {
	//var node = createSampleNode();
	//node: createNodeFromURL("getjson.cgi")
	var s = callAPI("get", { filter: ["Argument"] });
console.log(s);
	var id = JSON.parse(s).result[0].argument_id;
console.log("get id=" + id);
	var n = callAPI("get", { argument_id: "0" });
console.log(n);
	var node = createNodeFromJson(JSON.parse(n).result);
	var opts = {};
	var viewer = new DCaseViewer(document.getElementById("viewer"), node, opts);
	var menu = new SideMenu(document.getElementById("sidemenu"), viewer);

	// hide url bar for ipod touch
	setTimeout(function(){
		window.scrollTo(0, 0);
	}, 0);
});
</script>
</head>
<body>
<div id="viewer" style="z-index: 1;"></div>
<div id="sidemenu" style="z-index: 2;"></div>
</body>
</html>
